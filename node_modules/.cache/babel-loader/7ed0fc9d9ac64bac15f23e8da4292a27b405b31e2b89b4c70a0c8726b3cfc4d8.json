{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/esad/hrms-admin/src/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchEmployees = async () => {\n      try {\n        // Add { withCredentials: true } to the axios config\n        const response = await axios.get('http://localhost:8080/api/employees/getall', {\n          withCredentials: true\n        });\n        console.log(\"Data from backend:\", response.data);\n        if (Array.isArray(response.data)) {\n          setEmployees(response.data);\n        } else {\n          console.error(\"Received data is not an array:\", response.data);\n          setEmployees([]);\n        }\n      } catch (error) {\n        console.error(\"There was an error fetching the employee data:\", error);\n        // If you get a 401 or 403 error here, it confirms an authentication issue.\n        // You might want to redirect to the login page.\n        if (error.response && (error.response.status === 401 || error.response.status === 403)) {\n          navigate('/login'); // Redirect to login if not authenticated\n        }\n      }\n    };\n    fetchEmployees();\n  }, [navigate]); // Add navigate as a dependency\n\n  const handleLogout = async () => {\n    // ... (logout logic is the same)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"header-title\",\n          children: \"Welcome to HR Management System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-button\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"content-title\",\n          children: \"New Employees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"employee-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Employee ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"NIC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: Array.isArray(employees) && employees.map(employee => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: employee.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: employee.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: employee.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: employee.nic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: employee.gender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 37\n                }, this)]\n              }, employee.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"7hXq191NLwZGmy8mAyyO6kliONo=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","Dashboard","_s","employees","setEmployees","navigate","fetchEmployees","response","get","withCredentials","console","log","data","Array","isArray","error","status","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","employee","id","name","email","nic","gender","_c","$RefreshReg$"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/esad/hrms-admin/src/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Dashboard.css';\n\nfunction Dashboard() {\n    const [employees, setEmployees] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchEmployees = async () => {\n            try {\n                // Add { withCredentials: true } to the axios config\n                const response = await axios.get('http://localhost:8080/api/employees/getall', {\n                    withCredentials: true\n                });\n\n                console.log(\"Data from backend:\", response.data);\n\n                if (Array.isArray(response.data)) {\n                    setEmployees(response.data);\n                } else {\n                    console.error(\"Received data is not an array:\", response.data);\n                    setEmployees([]);\n                }\n            } catch (error) {\n                console.error(\"There was an error fetching the employee data:\", error);\n                // If you get a 401 or 403 error here, it confirms an authentication issue.\n                // You might want to redirect to the login page.\n                if (error.response && (error.response.status === 401 || error.response.status === 403)) {\n                    navigate('/login'); // Redirect to login if not authenticated\n                }\n            }\n        };\n\n        fetchEmployees();\n    }, [navigate]); // Add navigate as a dependency\n\n    const handleLogout = async () => {\n        // ... (logout logic is the same)\n    };\n\n    return (\n        <div className=\"dashboard-container\">\n            {/* ... Sidebar and Header ... */}\n            <main className=\"main-content\">\n                <header className=\"header\">\n                    <h2 className=\"header-title\">Welcome to HR Management System</h2>\n                    <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n                </header>\n\n                <div className=\"content-area\">\n                    <h3 className=\"content-title\">New Employees</h3>\n                    <div className=\"table-container\">\n                        <table className=\"employee-table\">\n                            <thead>\n                            <tr>\n                                <th>Employee ID</th>\n                                <th>Name</th>\n                                <th>Email</th>\n                                <th>NIC</th>\n                                <th>Gender</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            { /* Add a check here as well for maximum safety */ }\n                            {Array.isArray(employees) && employees.map((employee) => (\n                                <tr key={employee.id}>\n                                    <td>{employee.id}</td>\n                                    <td>{employee.name}</td>\n                                    <td>{employee.email}</td>\n                                    <td>{employee.nic}</td>\n                                    <td>{employee.gender}</td>\n                                </tr>\n                            ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </main>\n        </div>\n    );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}